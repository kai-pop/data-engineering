# DWH

## DWH とは
企業の意思決定プロセスを支える、サブジェクト（主題）別に統合化された、時系列な不変データの集合

1．サブジェクト (主題) ごとにデータが記録されている
2．データが統合されている
3．データが時系列で記録してある
4．データは消されたり更新されたりしない

→データが分析しやすい状態で格納されている

## Database との違い

### 目的

- DB
    - アプリケーション・サービスのデータ管理用
    - それぞれのシステムが利用しやすいようにデータの持ち方も各システム用に最適化
    - リアルタイムデータ
- DWH
  - 分析用
  - 過去データ
  - 企業が扱うさまざまなデータを複数のシステムから統合することです。単にデータを物理的に1つのシステムに集めるだけでなく、データの内容ごとに論理的に統合する
    - ラベル表記統一：「顧客」「お客様」
    - データの統合：「顧客コード」「お客様番号」
  - 複数のシステムから生成されたフォーマットや粒度の異なるデータを、同じように記録するための前処理を施してからデータベースに格納します。整理されたデータを1ヵ所に集めることで、効率的なデータ分析を可能にします。

### データ容量

- DB
  - DWH よる少ない。過去のデータは定期的に退避させて削除するなどの運用を行う
- DWH
  - 大量の容量がある前提
  - 過去のデータから全部蓄積しておく
    - 目的が分析故

### 時系列を持つ
- DB
  - 古い情報を持たない。（容量的制約やパフォーマンス的制約などで持てない）
- DWH
  - 順次データが増えていく。

## DWH 誕生の歴史

1980年代の時点で、データを蓄える「データベース」という概念は存在していました。しかし技術的な問題から、当時のデータベースは一時的なデータ置き場に過ぎませんでした。
例えば、データの保存上限が1年間分だとしたら、1年以上前のデータは削除しなくてはならなかったのです。

また、システム横断的にデータを蓄積する方法が存在しなかったため、データの活用という点でも当時の企業は苦労をしていました。
ITシステムが整った今の時代でビジネスを行う皆さんには想像もつかないかもしれませんが、「仕入れ」「生産」「販売」のそれぞれで違うデータベースにデータを保存するのが、当時は一般的だったのです。これではデータを分析しようにも、それぞれのデータを取得する作業だけで膨大な時間がかかってしまいます。

1990年代にハードディスクの価格が下がってきたことと、安価なCPUを並列で使用する技術が確立したことがDWHの誕生につながりました。
従来、データの保存にはコストも手間もかかりましたが、DWHが登場したことで、中小企業でもデータの保管や活用のためのベースを整えられるようになりました。

## Data Lake

DWH の進化
- トランザクション機能
- インデクシングによる高速化
- データ品質を保つスキーマ強制
- クエリ高速処理機能
- クエリ言語の標準化 (SQL)


データウェアハウスの成熟の一方で、それだけでは対応できない新しいデータの利用方法が広がってきた。機械学習をはじめとする人工知能（AI）の進展とビジネスへの活用だ。機械学習やデータサイエンスでは、文書、画像、音声、ログデータ、センサーデータなど、あらゆるデータが対象になり、データタイプやサイズが多様であるため、これまでの構造化データと同じようにデータウェアハウスでは扱うことが難しい。これらのデータを「非構造化データ」と呼ぶ。そして、この非構造化データはテーブル形式ではなく、ファイルとして扱われることが多い。


    特に加工されていない生データ
    構造化データと非構造化データ

    収集・格納時点では決まっていなくても良い



## Lake House

データレイクはデータの格納には適していましたが、重要な機能が欠けており、トランザクションのサポートやデータ品質の保証がありません。一貫性と分離性の欠如により、アペンドと読み取り、バッチとストリーミングジョブを混在させることはほぼ不可能です。 

